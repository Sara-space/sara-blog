---
interface Props {
  company: string;
  role: string;
  period: string;
  location?: string;
  description?: string;
  bullets?: string[];
  tags?: string[];
  logo?: string;   // ej: "/logos/empresa.svg" o "/logos/empresa.png"
  link?: string;   // sitio o repo
  dataTags?: string; // "semiconductores investigacion docencia"
}
const {
  company, role, period, location = "", description = "",
  bullets = [], tags = [], logo = "", link = "", dataTags = ""
} = Astro.props;
---
<article class="card" data-tags={dataTags}>
  <header class="flex items-center gap-4 mb-4">
    {logo ? (
      <img src={logo} alt={company} class="w-12 h-12 object-contain rounded-xl2 border border-border/60" />
    ) : null}
    <div class="min-w-0">
      <h3 class="text-lg font-semibold truncate">{role}</h3>
      <p class="text-sm" style="color: rgb(var(--muted));">
        <span>{company}</span>{location && <span> · {location}</span>} · <span>{period}</span>
      </p>
    </div>
    {link && (
      <a href={link} class="ml-auto btn" rel="noopener noreferrer" target="_blank">Ver</a>
    )}
  </header>

  {description && <p class="text-sm mb-3" style="color: rgb(var(--muted));">{description}</p>}

  {bullets.length > 0 && (
    <ul class="list-disc pl-5 space-y-1 text-sm">
      {bullets.map((b) => <li>{b}</li>)}
    </ul>
  )}

  {tags.length > 0 && (
    <div class="mt-4 flex flex-wrap gap-2">
      {tags.map((t) => (
        <span class="text-xs px-3 py-1 rounded-xl2 border border-border/60" style="background: rgb(var(--card)/0.6); color: rgb(var(--muted));">
          {t}
        </span>
      ))}
    </div>
  )}
</article>
